<div class="col-lg-12 mt-4 d-flex justify-content-end">
  <%= form_for home_index_path, method: :get do |f| %>
      <div class="form-row">

        <div class="form-group col-md-6">
          <%= f.label t('general.order_by') %>
          <%= f.select(:order_by, [ [t('general.date'), 1] , [t('general.numbers_likes'), 2] ], { :selected=> params[:order_by] }, { :class => 'form-control' , :id => "order_by" , :name => "order_by"   }) %>
        </div>

        <div class="form-group col-md-6">
          <%= f.label t('general.search') %>
          <%= f.text_field :search , class: "form-control" , :id => "search" , :name => "search" , :value => params[:search] %>
        </div>

    </div>
  <% end %>
</div>



<% if( !@images.empty? ) %>
  <div class="row mt-5">
    <%= render(:partial => "home/image", :collection =>  @images )%>
  </div>
  <div class="row mt-5 d-flex justify-content-center">
    <%= will_paginate @images , renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
  </div>
<% else %>
  <div class="row mt-3 d-flex justify-content-center text-center">
    <h3 style="color: rgba(102,102,102,0.68)">No se ha agregado Imagenes Publicas</h3>
  </div>
<% end %>

<script type="text/javascript" charset="utf-8">
    function toggle_like(id) {
        $("#thumbs-up-"+id).toggleClass('like');

    }

    $("#order_by").change(function () {
        $('form')[0].submit();
    });

    $(document).ready(function(){
        $('.button_to').on('ajax:success', function(){
            toggle_like($(this).children().attr('id').replace("btn-",""));
        }).on('ajax:error',function(e, xhr, status, error){
            alert("Ups.. We have an error when sending the data");
        });
    });
</script>


